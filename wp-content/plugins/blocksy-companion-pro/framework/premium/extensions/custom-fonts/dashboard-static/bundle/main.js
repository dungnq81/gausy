!function(){var t={184:function(t,e){var n;
/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/!function(){"use strict";var r={}.hasOwnProperty;function o(){for(var t=[],e=0;e<arguments.length;e++){var n=arguments[e];if(n){var a=typeof n;if("string"===a||"number"===a)t.push(n);else if(Array.isArray(n)&&n.length){var i=o.apply(null,n);i&&t.push(i)}else if("object"===a)for(var c in n)r.call(n,c)&&n[c]&&t.push(c)}}return t.join(" ")}t.exports?(o.default=o,t.exports=o):void 0===(n=function(){return o}.apply(e,[]))||(t.exports=n)}()},172:function(t,e,n){var r,o,a=n(760),i=n(529),c=(o=[],{activateTrap:function(t){if(o.length>0){var e=o[o.length-1];e!==t&&e.pause()}var n=o.indexOf(t);-1===n||o.splice(n,1),o.push(t)},deactivateTrap:function(t){var e=o.indexOf(t);-1!==e&&o.splice(e,1),o.length>0&&o[o.length-1].unpause()}});function u(t){return setTimeout(t,0)}t.exports=function(t,e){var n=document,o="string"==typeof t?n.querySelector(t):t,s=i({returnFocusOnDeactivate:!0,escapeDeactivates:!0},e),l={firstTabbableNode:null,lastTabbableNode:null,nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1},f={activate:function(t){if(l.active)return;w(),l.active=!0,l.paused=!1,l.nodeFocusedBeforeActivation=n.activeElement;var e=t&&t.onActivate?t.onActivate:s.onActivate;e&&e();return d(),f},deactivate:p,pause:function(){if(l.paused||!l.active)return;l.paused=!0,m()},unpause:function(){if(!l.paused||!l.active)return;l.paused=!1,w(),d()}};return f;function p(t){if(l.active){clearTimeout(r),m(),l.active=!1,l.paused=!1,c.deactivateTrap(f);var e=t&&void 0!==t.onDeactivate?t.onDeactivate:s.onDeactivate;return e&&e(),(t&&void 0!==t.returnFocus?t.returnFocus:s.returnFocusOnDeactivate)&&u((function(){var t;E((t=l.nodeFocusedBeforeActivation,v("setReturnFocus")||t))})),f}}function d(){if(l.active)return c.activateTrap(f),r=u((function(){E(y())})),n.addEventListener("focusin",h,!0),n.addEventListener("mousedown",b,{capture:!0,passive:!1}),n.addEventListener("touchstart",b,{capture:!0,passive:!1}),n.addEventListener("click",O,{capture:!0,passive:!1}),n.addEventListener("keydown",g,{capture:!0,passive:!1}),f}function m(){if(l.active)return n.removeEventListener("focusin",h,!0),n.removeEventListener("mousedown",b,!0),n.removeEventListener("touchstart",b,!0),n.removeEventListener("click",O,!0),n.removeEventListener("keydown",g,!0),f}function v(t){var e=s[t],r=e;if(!e)return null;if("string"==typeof e&&!(r=n.querySelector(e)))throw new Error("`"+t+"` refers to no known node");if("function"==typeof e&&!(r=e()))throw new Error("`"+t+"` did not return a node");return r}function y(){var t;if(!(t=null!==v("initialFocus")?v("initialFocus"):o.contains(n.activeElement)?n.activeElement:l.firstTabbableNode||v("fallbackFocus")))throw new Error("Your focus-trap needs to have at least one focusable element");return t}function b(t){o.contains(t.target)||(s.clickOutsideDeactivates?p({returnFocus:!a.isFocusable(t.target)}):s.allowOutsideClick&&s.allowOutsideClick(t)||t.preventDefault())}function h(t){o.contains(t.target)||t.target instanceof Document||(t.stopImmediatePropagation(),E(l.mostRecentlyFocusedNode||y()))}function g(t){if(!1!==s.escapeDeactivates&&function(t){return"Escape"===t.key||"Esc"===t.key||27===t.keyCode}(t))return t.preventDefault(),void p();(function(t){return"Tab"===t.key||9===t.keyCode})(t)&&function(t){if(w(),t.shiftKey&&t.target===l.firstTabbableNode)return t.preventDefault(),void E(l.lastTabbableNode);if(!t.shiftKey&&t.target===l.lastTabbableNode)t.preventDefault(),E(l.firstTabbableNode)}(t)}function O(t){s.clickOutsideDeactivates||o.contains(t.target)||s.allowOutsideClick&&s.allowOutsideClick(t)||(t.preventDefault(),t.stopImmediatePropagation())}function w(){var t=a(o);l.firstTabbableNode=t[0]||y(),l.lastTabbableNode=t[t.length-1]||y()}function E(t){t!==n.activeElement&&(t&&t.focus?(t.focus(),l.mostRecentlyFocusedNode=t,function(t){return t.tagName&&"input"===t.tagName.toLowerCase()&&"function"==typeof t.select}(t)&&t.select()):E(y()))}}},703:function(t,e,n){"use strict";var r=n(414);function o(){}function a(){}a.resetWarningCache=o,t.exports=function(){function t(t,e,n,o,a,i){if(i!==r){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:a,resetWarningCache:o};return n.PropTypes=n,n}},697:function(t,e,n){t.exports=n(703)()},414:function(t){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},760:function(t){var e=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'],n=e.join(","),r="undefined"==typeof Element?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector;function o(t,e){e=e||{};var o,i,c,l=[],f=[],p=t.querySelectorAll(n);for(e.includeContainer&&r.call(t,n)&&(p=Array.prototype.slice.apply(p)).unshift(t),o=0;o<p.length;o++)a(i=p[o])&&(0===(c=u(i))?l.push(i):f.push({documentOrder:o,tabIndex:c,node:i}));return f.sort(s).map((function(t){return t.node})).concat(l)}function a(t){return!(!i(t)||function(t){return function(t){return l(t)&&"radio"===t.type}(t)&&!function(t){if(!t.name)return!0;var e=t.ownerDocument.querySelectorAll('input[type="radio"][name="'+t.name+'"]'),n=function(t){for(var e=0;e<t.length;e++)if(t[e].checked)return t[e]}(e);return!n||n===t}(t)}(t)||u(t)<0)}function i(t){return!(t.disabled||function(t){return l(t)&&"hidden"===t.type}(t)||function(t){return null===t.offsetParent||"hidden"===getComputedStyle(t).visibility}(t))}o.isTabbable=function(t){if(!t)throw new Error("No node provided");return!1!==r.call(t,n)&&a(t)},o.isFocusable=function(t){if(!t)throw new Error("No node provided");return!1!==r.call(t,c)&&i(t)};var c=e.concat("iframe").join(",");function u(t){var e=parseInt(t.getAttribute("tabindex"),10);return isNaN(e)?function(t){return"true"===t.contentEditable}(t)?0:t.tabIndex:e}function s(t,e){return t.tabIndex===e.tabIndex?t.documentOrder-e.documentOrder:t.tabIndex-e.tabIndex}function l(t){return"INPUT"===t.tagName}t.exports=o},529:function(t){t.exports=function(){for(var t={},n=0;n<arguments.length;n++){var r=arguments[n];for(var o in r)e.call(r,o)&&(t[o]=r[o])}return t};var e=Object.prototype.hasOwnProperty}},e={};function n(r){var o=e[r];if(void 0!==o)return o.exports;var a=e[r]={exports:{}};return t[r](a,a.exports,n),a.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";function t(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}var e=window.wp.element,r=window.wp.hooks;function o(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function a(t,e){if(t){if("string"==typeof t)return o(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?o(t,e):void 0}}function i(t){return function(t){if(Array.isArray(t))return o(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||a(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function c(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var n=null==t?null:"undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(null!=n){var r,o,a=[],i=!0,c=!1;try{for(n=n.call(t);!(i=(r=n.next()).done)&&(a.push(r.value),!e||a.length!==e);i=!0);}catch(t){c=!0,o=t}finally{try{i||null==n.return||n.return()}finally{if(c)throw o}}return a}}(t,e)||a(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}window.ctEvents;var u=n(184),s=n.n(u),l=window.wp.i18n,f=window.blocksyOptions;function p(){return p=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},p.apply(this,arguments)}function d(t,e){if(null==t)return{};var n,r,o=function(t,e){if(null==t)return{};var n,r,o={},a=Object.keys(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||(o[n]=t[n]);return o}(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(r=0;r<a.length;r++)n=a[r],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(o[n]=t[n])}return o}var m=window.React,v=n.n(m);n(697);function y(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}var b=function(t){t.initialState,t.getInitialState,t.refs,t.getRefs,t.didMount,t.didUpdate,t.willUnmount,t.getSnapshotBeforeUpdate,t.shouldUpdate,t.render;return function(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}(t,["initialState","getInitialState","refs","getRefs","didMount","didUpdate","willUnmount","getSnapshotBeforeUpdate","shouldUpdate","render"])},h=function(t){function e(){var n,r;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);for(var o=arguments.length,a=Array(o),i=0;i<o;i++)a[i]=arguments[i];return n=r=y(this,t.call.apply(t,[this].concat(a))),g.call(r),y(r,n)}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getArgs=function(){var t=this.state,e=this.props,n=this._setState,r=this._forceUpdate,o=this._refs;return{state:t,props:b(e),refs:o,setState:n,forceUpdate:r}},e.prototype.componentDidMount=function(){this.props.didMount&&this.props.didMount(this.getArgs())},e.prototype.shouldComponentUpdate=function(t,e){return!this.props.shouldUpdate||this.props.shouldUpdate({props:this.props,state:this.state,nextProps:b(t),nextState:e})},e.prototype.componentWillUnmount=function(){this.props.willUnmount&&this.props.willUnmount({state:this.state,props:b(this.props),refs:this._refs})},e.prototype.componentDidUpdate=function(t,e,n){this.props.didUpdate&&this.props.didUpdate(Object.assign(this.getArgs(),{prevProps:b(t),prevState:e}),n)},e.prototype.getSnapshotBeforeUpdate=function(t,e){return this.props.getSnapshotBeforeUpdate?this.props.getSnapshotBeforeUpdate(Object.assign(this.getArgs(),{prevProps:b(t),prevState:e})):null},e.prototype.render=function(){var t=this.props,e=t.children,n=t.render;return n?n(this.getArgs()):"function"==typeof e?e(this.getArgs()):e||null},e}(v().Component);h.defaultProps={getInitialState:function(){},getRefs:function(){return{}}};var g=function(){var t=this;this.state=this.props.initialState||this.props.getInitialState(this.props),this._refs=this.props.refs||this.props.getRefs(this.getArgs()),this._setState=function(){return t.setState.apply(t,arguments)},this._forceUpdate=function(){return t.forceUpdate.apply(t,arguments)}},O=h,w=function(t){var n=t.children,r=t.container,o=void 0===r?document.body:r,a=t.type,i=void 0===a?"reach-portal":a;return(0,e.createElement)(O,{getRefs:function(){return{node:null}},didMount:function(t){var e=t.refs,n=t.forceUpdate,r=o.hasOwnProperty("current")?o.current:o;e.node=document.createElement(i),r.appendChild(e.node),n()},willUnmount:function(t){var e=t.refs.node,n=o.hasOwnProperty("current")?o.current:o;n&&n.removeChild(e)},render:function(t){var r=t.refs.node;return r?(0,e.createPortal)(n,r):null}})};var E=function(t,e){return function(n){if(t&&t(n),!n.defaultPrevented)return e(n)}},j=n(172),_=n.n(j),P=function(){},F=function(){},S=function(t,e){var n,r,o;t.disposeAriaHider=(n=t.overlayNode,r=[],o=[],Array.prototype.forEach.call(document.querySelectorAll("body > *"),(function(t){if(t!==n.parentNode){var e=t.getAttribute("aria-hidden");null!==e&&"false"!==e||(r.push(e),o.push(t),t.setAttribute("aria-hidden","true"))}})),function(){o.forEach((function(t,e){var n=r[e];null===n?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n)}))}),t.trap=_()(t.overlayNode,{initialFocus:e?function(){return e.current}:void 0,fallbackFocus:t.contentNode,escapeDeactivates:!1,clickOutsideDeactivates:!1})},k=function(t){var e=t.refs;e.trap.deactivate(),e.disposeAriaHider()},N=React.createContext(),x=React.forwardRef((function(t,n){var r=t.container,o=t.isOpen,a=void 0===o||o,i=t.onDismiss,c=void 0===i?P:i,u=t.initialFocusRef,s=t.onClick,l=t.onKeyDown,f=d(t,["container","isOpen","onDismiss","initialFocusRef","onClick","onKeyDown"]);return(0,e.createElement)(O,{didMount:F},a?(0,e.createElement)(w,{container:r,"data-reach-dialog-wrapper":!0},(0,e.createElement)(O,{refs:{overlayNode:null,contentNode:null},didMount:function(t){var e=t.refs;S(e,u)},willUnmount:k},(function(t){var r=t.refs;return(0,e.createElement)(N.Provider,{value:function(t){return r.contentNode=t}},(0,e.createElement)("div",p({"data-reach-dialog-overlay":!0,onClick:E(s,(function(t){t.stopPropagation(),c()})),onKeyDown:E(l,(function(t){"Escape"===t.key&&(t.stopPropagation(),c())})),ref:function(t){r.overlayNode=t,n&&n(t)}},f)))}))):null)}));x.propTypes={initialFocusRef:function(){}};var D=function(t){return t.stopPropagation()},C=React.forwardRef((function(t,n){var r=t.onClick,o=(t.onKeyDown,d(t,["onClick","onKeyDown"]));return(0,e.createElement)(N.Consumer,null,(function(t){return(0,e.createElement)("div",p({"aria-modal":"true","data-reach-dialog-content":!0,tabIndex:"-1",onClick:E(r,D),ref:function(e){t(e),n&&n(e)}},o))}))})),T=function(t){return!!t},A=function(t){var n=t.items,r=t.isVisible,o=void 0===r?T:r,a=t.render,i=t.className,c=t.onDismiss;return(0,e.createElement)(f.Transition,{items:n,onStart:function(){return document.body.classList[o(n)?"add":"remove"]("ct-dashboard-overlay-open")},config:{duration:200},from:{opacity:0,y:-10},enter:{opacity:1,y:0},leave:{opacity:0,y:10}},(function(t){return o(t)&&function(n){return(0,e.createElement)(x,{style:{opacity:n.opacity},container:document.querySelector("#wpbody"),onDismiss:function(){return c()}},(0,e.createElement)(C,{className:s()("ct-admin-modal",i),style:{transform:"translate3d(0px, ".concat(n.y,"px, 0px)")}},(0,e.createElement)("button",{className:"close-button",onClick:function(){return c()}},"×"),a(t,n)))}}))},I=function(t){return{n1:"Thin 100",i1:"Thin 100 Italic",n2:"Extra-Light 200",i2:"Extra-Light 200 Italic",n3:"Light 300",i3:"Light 300 Italic",n4:"Regular 400",i4:t?"Italic":"Regular 400 Italic",n5:"Medium 500",i5:"Medium 500 Italic",n6:"Semi-Bold 600",i6:"Semi-Bold 600 Italic",n7:"Bold 700",i7:"Bold 700 Italic",n8:"Extra-Bold 800",i8:"Extra-Bold 800 Italic",n9:"Ultra-Bold 900",i9:"Ultra-Bold 900 Italic"}},U=function(t){return I(arguments.length>1&&void 0!==arguments[1]&&arguments[1])[t]};function R(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function L(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?R(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):R(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var B=function(t){var n=t.customFontsSettings,r=t.onChange,o=t.editFont;return(0,e.createElement)(e.Fragment,null,n.fonts.length>0&&(0,e.createElement)("div",{className:"ct-custom-fonts-list"},(0,e.createElement)("h4",null,(0,l.__)("Available Fonts","blocksy-companion")),(0,e.createElement)("ul",null,n.fonts.map((function(t,a){return(0,e.createElement)("li",{key:a},(0,e.createElement)("div",{className:"ct-custom-font-info"},(0,e.createElement)("span",null,t.name,t.__custom?" (".concat((0,l.__)("Dynamic Font","blocksy-companion"),")"):""),"variable"===t.fontType?(0,e.createElement)("i",null,(0,l.__)("Variable font","blocksy-companion"),": ",t.variations.filter((function(t){return!!t.url})).map((function(t){var e=t.variation;return U(e,!0)})).join(", ")):(0,e.createElement)("i",null,(0,l.__)("Variations","blocksy-companion"),": ",t.variations.map((function(t){var e=t.variation;return U(e)})).join(", "))),!t.__custom&&(0,e.createElement)(e.Fragment,null,(0,e.createElement)("div",{className:"ct-custom-font-actions"},(0,e.createElement)("button",{className:"ct-edit-font","data-tooltip-reveal":"top",onClick:function(){return o(a)}},(0,e.createElement)("span",{className:"ct-tooltip"},(0,l.__)("Edit Font","blocksy-companion"))),(0,e.createElement)("button",{className:"ct-remove-font","data-hover":"red","data-tooltip-reveal":"top",onClick:function(){r(L(L({},n),{},{fonts:n.fonts.filter((function(e){return e.name!==t.name}))}))}},(0,e.createElement)("span",{className:"ct-tooltip"},(0,l.__)("Remove Font","blocksy-companion"))))))})))))};function M(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?M(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var K=function(t){var n=t.name,r=t.futureFont,o=t.setFutureFont,a=t.variations;t.onChange,t.customFontsSettings;return(0,e.createElement)(React.Fragment,null,(0,e.createElement)(et,{name:n,onChange:function(t){return o(q(q({},r),{},{name:t}))}}),(0,e.createElement)("span",{className:"ct-option-description",dangerouslySetInnerHTML:{__html:(0,l.sprintf)((0,l.__)("Upload only the %s.woff2%s or %s.ttf%s font file formats (see browser coverage %shere%s). Use %sthis converter tool%s if you don't have these font formats.","blocksy-companion"),"<code>","</code>","<code>","</code>",'<a href="https://caniuse.com/#search=woff2" target="_blank">',"</a>",'<a href="https://transfonter.org/" target="_blank">',"</a>")}}),(0,e.createElement)("ul",{className:"ct-upload-fonts"},a.map((function(t,n){return(0,e.createElement)(nt,{futureFont:r,key:n,variation:t,onChange:function(t){return o(q(q({},r),{},{variations:a.map((function(e,r){return r===n?t:e}))}))},onRemove:function(){o(q(q({},r),{},{variations:a.slice(0,n).concat(a.slice(n+1,a.length))}))}})})),"regular"===r.fontType&&(0,e.createElement)("li",{className:"ct-add-variation"},(0,e.createElement)(tt,{futureFont:r,setFutureFont:o}))))};function V(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function H(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?V(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):V(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var W=function(t){var n=t.name,r=t.futureFont,o=t.setFutureFont,a=t.variations;t.onChange,t.customFontsSettings;return(0,e.createElement)(React.Fragment,null,(0,e.createElement)(et,{name:n,onChange:function(t){return o(H(H({},r),{},{name:t}))}}),(0,e.createElement)("span",{className:"ct-option-description",dangerouslySetInnerHTML:{__html:(0,l.sprintf)((0,l.__)("Upload only the %s.woff2%s or %s.ttf%s font file formats. Don't convert variable fonts by yourself. Ask the font provider to hand a correct file or the %svariable%s font won't work.","blocksy-companion"),"<code>","</code>","<code>","</code>",'<a href="https://web.dev/variable-fonts/" target="_blank">',"</a>")}}),(0,e.createElement)("ul",{className:"ct-upload-fonts"},a.map((function(t,n){return(0,e.createElement)(nt,{futureFont:r,key:n,variation:t,onChange:function(t){return o(H(H({},r),{},{variations:a.map((function(e,r){return r===n?t:e}))}))},onRemove:function(){o(H(H({},r),{},{variations:a.slice(0,n).concat(a.slice(n+1,a.length))}))}})}))))};function Y(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function G(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?Y(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Y(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var J=function(n){var r=n.variations,o=void 0===r?[]:r,a=n.setFuturePreloadFonts,i=n.futurePreloadFonts;return(0,e.createElement)(f.Checkboxes,{value:i.variations.reduce((function(e,n){return G(G({},e),{},t({},n,i.variations.includes(n)))}),{}),option:{choices:o.filter((function(t){return t.url})).map((function(t){var e=t.variation;return{key:e,value:U(e)}})),attr:{"data-columns":2},allow_empty:!0},onChange:function(t){a(G(G({},i),{},{variations:Object.keys(t).filter((function(e){return t[e]}))}))}})},Q=function(t){var n=t.variations,r=t.futurePreloadFonts,o=t.setFuturePreloadFonts;return(0,e.createElement)(React.Fragment,null,(0,e.createElement)("h4",{className:"ct-title"},(0,l.__)("Preload Variations","blocksy-companion")),(0,e.createElement)(J,{variations:n,setFuturePreloadFonts:o,futurePreloadFonts:r}))};function $(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function z(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?$(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var X=function(t){return z({variation:"n4",attachment_id:null,url:"",filename:""},t)},Z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"regular";return{name:"",fontType:t,variations:[X({variation:"n4"})].concat(i("variable"===t?[X({variation:"i4"})]:[]))}},tt=function(n){var r=n.futureFont,o=n.setFutureFont;return 0===Object.keys(I()).filter((function(t){return!r.variations.find((function(e){return e.variation===t}))})).reduce((function(e,n){return z(z({},e),{},t({},n,U(n)))}),{}).length?null:(0,e.createElement)("button",{className:"button",onClick:function(){o(z(z({},r),{},{variations:[].concat(i(r.variations),[X({variation:""})])}))}},(0,l.__)("Add Variation","blocksy-companion"))},et=function(t){var n=t.name,r=t.onChange;return(0,e.createElement)("div",{className:"ct-font-name"},(0,e.createElement)("div",{className:"ct-option-input"},(0,e.createElement)("input",{onChange:function(t){var e=t.target.value;return r(e)},type:"text",placeholder:(0,l.__)("Font Name","blocksy-companion"),value:n})))},nt=function(n){var r=n.futureFont,o=n.variation,a=n.onChange,i=n.onRemove,c=z({},Object.keys(I()).filter((function(t){return o.variation===t||!r.variations.find((function(e){return e.variation===t}))})).reduce((function(e,n){return z(z({},e),{},t({},n,U(n)))}),{}));return(0,e.createElement)("li",null,"regular"===r.fontType&&(0,e.createElement)(f.Select,{option:{appendToBody:!0,placeholder:(0,l.__)("Select variation","blocksy-companion"),choices:c,defaultToFirstItem:!1},value:o.variation,onChange:function(t){a(z(z({},o),{},{variation:t}))}}),"variable"===r.fontType&&"n4"===o.variation&&(0,e.createElement)("span",{className:"ct-variation-name"},(0,l.__)("Regular","blocksy-companion")),"variable"===r.fontType&&"i4"===o.variation&&(0,e.createElement)("span",{className:"ct-variation-name"},(0,l.__)("Italic","blocksy-companion")),o.attachment_id&&(0,e.createElement)("span",{className:"ct-font-preview"},o.filename),(0,e.createElement)("button",{className:"button ct-upload-edit-font-button",onClick:function(){var t=wp.media({button:{text:"Select"},states:[new wp.media.controller.Library({title:"Select font",multiple:!1,date:!1,priority:20})]});o.attachment_id&&t.on("open",(function(){var e,n;t.reset(),e=o.attachment_id,n=function(){t.state().get("selection").add(wp.media.attachment(o.attachment_id))},wp.media.attachment(e).get("url")?wp.media.attachment(e).fetch().then((function(){return n(wp.media.attachment(e))})):n(wp.media.attachment(e))})),t.setState("library").open(),t.on("select",(function(){var e=t.state().get("selection").first().toJSON();a(z(z({},o),{},{attachment_id:e.id,url:wp.media.attachment(e.id).get("url"),filename:e.filename}))}))}},o.attachment_id?(0,l.__)("Change","blocksy-companion"):(0,l.__)("Choose","blocksy-companion")),"regular"===r.fontType&&r.variations.length>1&&(0,e.createElement)("button",{className:"ct-remove",onClick:function(){return i()}},"×"),"variable"===r.fontType&&o.attachment_id&&(0,e.createElement)("button",{className:"ct-remove",onClick:function(){a(z(z({},o),{},{attachment_id:null,url:"",filename:""}))}},"×"))},rt=function(n){var r=n.customFontsSettings,o=n.onChange,a=n.futureFont,u=n.moveToAllFonts,f=n.setFutureFont,p=c((0,e.useState)({variations:[]}),2),m=p[0],v=p[1],y=c((0,e.useState)("regular"),2),b=y[0],h=y[1],g=c((0,e.useState)("regular"),2),O=g[0],w=g[1],E=b;a.regular||(E="variable"),a.variable||(E="regular");var j=function(e){f(z(z({},a),{},t({},E,e)))},_=a[E],P=_.name,F=_.variations;(0,e.useEffect)((function(){_.preloads&&v(_.preloads)}),[_]),(0,e.useEffect)((function(){window._wpPluploadSettings&&(window._wpPluploadSettings.defaults.filters.mime_types[0].extensions=window._wpPluploadSettings.defaults.filters.mime_types[0].extensions+",ttf,woff2",jQuery.extend(wp.Uploader,window._wpPluploadSettings))}),[]);var S=!P||0===F.length||"regular"===_.fontType&&F.length>0&&F.some((function(t){var e=t.attachment_id,n=t.variation;return!e||!n}))||"variable"===_.fontType&&F.length>0&&F.find((function(t){var e=t.attachment_id,n=t.variation;return!(e&&n||"n4"!==n)})),k=Object.keys(_).includes("editedIndex");return(0,e.createElement)("div",{className:"ct-modal-content","data-state":k?"edit":"new"},k?(0,e.createElement)("h2",null,(0,l.__)("Edit Font","blocksy-companion")):(0,e.createElement)("h2",null,(0,l.__)("Upload Font","blocksy-companion")),(0,e.createElement)("div",{className:"ct-tabs-scroll"},(0,e.createElement)("div",{className:"ct-tabs"},(0,e.createElement)("ul",null,(k?["regular","advanced"]:["regular","variable"]).map((function(t){var n=k?O===t:E===t;return(0,e.createElement)("li",{key:t,className:s()({active:n}),onClick:function(){k?w(t):h(t)}},{regular:k?(0,l.__)("General","blocksy-companion"):(0,l.__)("Simple Font","blocksy-companion"),variable:(0,l.__)("Variable Font","blocksy-companion"),advanced:(0,l.__)("Preload","blocksy-companion")}[t])}))),(0,e.createElement)("div",{className:"ct-current-tab"},k?"regular"===O?(0,e.createElement)(K,{name:P,futureFont:_,setFutureFont:j,variations:F,onChange:o,customFontsSettings:r}):(0,e.createElement)(Q,{variations:F,futurePreloadFonts:m,setFuturePreloadFonts:v}):"regular"===E?(0,e.createElement)(K,{name:P,futureFont:_,setFutureFont:j,variations:F,onChange:o,customFontsSettings:r}):(0,e.createElement)(W,{name:P,futureFont:_,setFutureFont:j,variations:F,onChange:o,customFontsSettings:r})))),(0,e.createElement)("div",{className:"ct-modal-actions has-divider"},(0,e.createElement)("button",{className:"button button-primary",disabled:S,onClick:function(){var t=_.editedIndex,e=z(z({},d(_,["editedIndex"])),{preloads:m.variations.length>0?m:{variations:[]}});o(z(z({},r),{},{fonts:t||0===t?r.fonts.map((function(n,r){return r===t?e:n})):[].concat(i(r.fonts),[e])})),u()}},(0,l.__)("Save Custom Font","blocksy-companion"))))};function ot(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function at(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ot(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ot(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}var it=function(n){var r=n.extension,o=n.onExtsSync,a=n.setExtsStatus,u=c((0,e.useState)(!1),2),s=u[0],f=u[1],p=c((0,e.useState)({regular:null,variable:null}),2),d=p[0],m=p[1],v=r.data.settings,y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=Object.values(e.fonts).reduce((function(t,e){var n=e.variations,r=e.preloads;return r?[].concat(i(t),i(n.map((function(t){var e=t.variation,n=t.url;return r.variations.includes(e)&&n})))):t}),[]);o({extAction:{type:"update-settings",settings:at(at({},e),{urls:(null==n?void 0:n.length)>0?n:[]})}}),a((function(n){return at(at({},n),{},t({},r.name,at(at({},n[r.name]),{},{data:at(at({},n[r.name].data),{},{settings:at(at({},n[r.name].data.settings),e)})})))}))};return(0,e.createElement)("div",{className:"ct-extension-options ct-custom-fonts-options"},(0,e.createElement)("h4",null,(0,l.__)("Custom Fonts Settings","blocksy-companion")),(0,e.createElement)("p",null,(0,l.__)("Here you can see all your custom fonts that can be used in all typography options across the theme.","blocksy-companion")),(0,e.createElement)(B,{onChange:function(t){y(t)},customFontsSettings:v,saveCustomFontsSettings:y,editFont:function(e){m(t({regular:null,variable:null},v.fonts[e].fontType,at(at({},v.fonts[e]),{},{editedIndex:e}))),f(!0)}}),(0,e.createElement)(A,{items:s,className:"ct-custom-fonts-modal",onDismiss:function(){f(!1)},render:function(){return(0,e.createElement)(rt,{futureFont:d,setFutureFont:m,onChange:function(t){y(t)},moveToAllFonts:function(){f(!1)},customFontsSettings:v})}}),(0,e.createElement)("button",{className:"ct-button-primary",onClick:function(){m({regular:Z("regular"),variable:Z("variable")}),f(!0)}},(0,l.__)("Upload Font","blocksy-companion")))};function ct(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var n=1;n<arguments.length;n++){var r=null!=arguments[n]?arguments[n]:{};n%2?ct(Object(r),!0).forEach((function(n){t(e,n,r[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ct(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}(0,r.addFilter)("blocksy.extensions.current_extension_content","blocksy",(function(t,n){var r=n.extension,o=n.onExtsSync,a=n.setExtsStatus;return"custom-fonts"!==r.name?t:ut(ut({},t),{},{content:(0,e.createElement)(it,{setExtsStatus:a,extension:r,onExtsSync:o})})}))}()}();